!function(e){function t(t){for(var r,c,l=t[0],s=t[1],i=t[2],p=0,m=[];p<l.length;p++)c=l[p],Object.prototype.hasOwnProperty.call(a,c)&&a[c]&&m.push(a[c][0]),a[c]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);for(u&&u(t);m.length;)m.shift()();return o.push.apply(o,i||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,l=1;l<n.length;l++){var s=n[l];0!==a[s]&&(r=!1)}r&&(o.splice(t--,1),e=c(c.s=n[0]))}return e}var r={},a={0:0},o=[];function c(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=e,c.c=r,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)c.d(n,r,function(t){return e[t]}.bind(null,r));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="";var l=window.webpackJsonp=window.webpackJsonp||[],s=l.push.bind(l);l.push=t,l=l.slice();for(var i=0;i<l.length;i++)t(l[i]);var u=s;o.push([97,1]),n()}({97:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(37),c=n.n(o),l=n(25),s=n(12),i=(n(83),n(87),n(30)),u=n.n(i),p=n(10),m=n(75),f=n(26),d=n.n(f),g=n(6),v=n.n(g),y="styles-module__errorLayout_54f3f",b="styles-module__show_afb94",O="styles-module__errMessage_430a0",E="styles-module__close_ead62";function _(e){var t=e.text,n=e.onClose,r=e.isError,o=(d()(e,["text","onClose","isError"]),""===t?"Ошибка не передана или не известна!":t);return a.a.createElement("div",{className:"".concat(y," ").concat(r&&b)},a.a.createElement("div",{className:E,onClick:n},a.a.createElement("p",null),a.a.createElement("p",null)),a.a.createElement("p",{className:O},o))}_.defaultProps={text:"Ошибка не передана или не известна!"},_.propTypes={text:v.a.string,onClose:v.a.func.isRequired};var h=n(50),j=n.n(h),w=n(74),P=n.n(w),N=n(28),S=n.n(N),C=n(51),R=n.n(C),x="styles-module__pageWrapper_7d6d1",k="styles-module__logo_7f184",M="styles-module__formWrapper_d4e34";function D(e){e.className;var t=e.form;d()(e,["className","form"]);return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:x},a.a.createElement("img",{className:k,src:"/assets/imgs/proceset_logo.png"}),a.a.createElement("div",{className:M},t)))}D.defaultProps={className:void 0,form:[]},D.propTypes={className:v.a.string,form:v.a.node};var T={inp:"styles-module__inp_df28d",err:"styles-module__err_2d0cb",errMessage:"styles-module__errMessage_cafcd",invisible:"styles-module__invisible_abe9f"};function V(e){var t=e.value,n=e.type,r=e.name,o=e.placeholder,c=e.onChange,l=e.className,s=e.isValid,i=e.disabled,u=e.errMessage;d()(e,["value","type","name","placeholder","onChange","className","isValid","disabled","errMessage"]);return a.a.createElement("div",{className:"".concat(T.wrap," ").concat(l)},a.a.createElement("input",{className:"".concat(s?T.inp:T.err),type:n,name:r,placeholder:o,value:t,onChange:c,disabled:i}),a.a.createElement("p",{className:"".concat(T.errMessage," ").concat(s&&T.invisible)},""==u?"Текст для высоты":u))}V.defaultProps={value:"",type:"text",name:"",placeholder:"",onChange:function(){},className:null,isValid:!0,disabled:!1,errMessage:"Текст для высоты"},V.propTypes={value:v.a.oneOfType([v.a.string,v.a.number]),type:v.a.string,name:v.a.string,placeholder:v.a.string,onChange:v.a.func,className:v.a.string,isValid:v.a.bool,disabled:v.a.bool,errMessage:v.a.oneOfType([v.a.string,v.a.number])};function I(){return{type:"ERRORS/ERROR_SHOW",payload:{isError:!1,errMessage:""}}}var L={form:"styles-module__form_18398"};function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(Object(n),!0).forEach((function(t){S()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function q(){var e=u()(["\n  mutation ($email: String!, $password: String!) {\n    login(email: $email, password: $password) {\n      token\n    }\n  }\n"]);return q=function(){return e},e}var W=Object(s.gql)(q());var H=function(e){console.log("LogInPage");var t=Object(s.useMutation)(W),n=R()(t,2),o=n[0],c=(n[1].data,Object(r.useState)({email:{value:"",errMessage:"Не корректный email",isValid:!0,validate:function(e){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e.trim())}},password:{value:"",validate:function(e){return!0}}})),l=R()(c,2),i=l[0],u=l[1],p=a.a.createElement("form",{className:L.form,onSubmit:function(e){e.preventDefault()}},a.a.createElement(V,{value:i.email.value,type:"email",name:"email",placeholder:"Электронная почта",errMessage:i.email.errMessage,isValid:i.email.isValid,onChange:function(e){!function(e,t){i[t].validate(e.target.value)?u(A(A({},i),{},S()({},t,A(A({},i[t]),{},{value:e.target.value,isValid:!0})))):u(A(A({},i),{},S()({},t,A(A({},i[t]),{},{value:e.target.value,isValid:!1}))))}(e,"email")}}),a.a.createElement("input",{className:"".concat(L.inp," ").concat(L.inp_password),type:"password",name:"password",placeholder:"Пароль",onChange:function(){}}),a.a.createElement("input",{className:"".concat(L.btn," ").concat(L.inp_password),type:"submit",value:"Войти в систему",onClick:function(){var e=P()(j.a.mark((function e(t){var n,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o({variables:{email:"racer@mail.com",password:"123456"}});case 2:n=e.sent,r=n.data.login.token,console.log(r),window.localStorage.setItem("token",r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),a.a.createElement("p",null,"Зарегистрироваться"));return a.a.createElement(D,{form:p})},U={counter:"styles-module__counter_de9c5"};var z=function(e){return console.log("RegistrationPage"),Object(r.useEffect)((function(){}),[]),a.a.createElement("div",{className:U.container},a.a.createElement("img",{className:U.logo,src:"/assets/imgs/proceset_logo.png"}),a.a.createElement("form",{className:U.form},a.a.createElement("input",{className:"".concat(U.inp," ").concat(U.inp_email),type:"text",name:"firstName",value:"Имя",onChange:function(){}}),a.a.createElement("input",{className:"".concat(U.inp," ").concat(U.inp_email),type:"text",name:"secondName",value:"Фамилия",onChange:function(){}}),a.a.createElement("input",{className:"".concat(U.inp," ").concat(U.inp_email),type:"email",name:"email",value:"Электронная почта",onChange:function(){}}),a.a.createElement("input",{className:"".concat(U.inp," ").concat(U.inp_password),type:"password",name:"password",value:"Пароль",onChange:function(){}}),a.a.createElement("input",{className:"".concat(U.btn," ").concat(U.inp_password),type:"submit",value:"Применить и выйти",onChange:function(){}}),a.a.createElement("p",null,"Уже зарегистрированы? Вход")))};function B(){var e=u()(["\n  query($id: Int!){\n    userById(id: $id){\n      id,\n      firstName,\n      secondName,\n      email\n    }\n  }\n"]);return B=function(){return e},e}var F=Object(s.gql)(B());var X=function(e){console.log("LKPage");var t=Object(s.useQuery)(F,{variables:{id:1}}),n=t.loading,r=t.error,o=t.data;return n?a.a.createElement("p",null,"Loading..."):r?a.a.createElement("p",null,console.log(r),"Error :("):(console.log(o),a.a.createElement("div",null,"LK PAGE"))},G="styles-module__pageWrapper_00698";function J(e){e.className;var t=d()(e,["className"]);return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:G},t.children))}J.defaultProps={className:void 0,form:[]},J.propTypes={className:v.a.string,form:v.a.node};var K="styles-module__container_45c44";function Q(e){return a.a.createElement("div",{className:K},a.a.createElement("p",null,"404 not found"),e.children)}var Z=[{name:"home",url:"/",container:function(e){return console.log("ProcessesPage"),Object(r.useEffect)((function(){}),[]),a.a.createElement(J,null,"Processes PAGE")},exact:!0},{name:"login",url:"/login",container:H,exact:!0},{name:"registration",url:"/registration",container:z,exact:!0},{name:"lk",url:"/lk",container:X,exact:!0},{url:"**",container:function(e){return a.a.createElement(a.a.Fragment,null,a.a.createElement(Q,null,a.a.createElement("p",{onClick:e.history.goBack},"Вернуться на главную!")))}}],Y={};Z.forEach((function(e){e.hasOwnProperty("name")&&(Y[e.name]=e.url)}));function ee(){var e=u()(["\n  query ($id: Int!){\n    userById(id: $id){\n      id\n    }\n  }\n"]);return ee=function(){return e},e}var te=Object(s.gql)(ee());function ne(e){var t=Object(s.useQuery)(te,{variables:{id:1}}),n=(t.loading,t.error,t.data,Object(l.b)()),r=Object(l.c)((function(e){return e.errStore}));Z.map((function(e){return a.a.createElement(p.a,{path:e.url,component:e.container,exact:e.exact,key:e.url})}));return a.a.createElement(m.a,null,a.a.createElement(a.a.Fragment,null,a.a.createElement(H,null),a.a.createElement(_,{text:r.errMessage,onClose:function(){n(I)},isError:r.isError})))}var re=n(27);function ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ae(Object(n),!0).forEach((function(t){S()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ae(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ce={isError:!1,errMessage:"Упс, что то пошло нет так :("};function le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?le(Object(n),!0).forEach((function(t){S()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ie={authorized:!1,isLoading:!1,firstName:"",secondName:"",email:""};var ue=Object(re.c)({errStore:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ERRORS/ERROR_SHOW":case"ERRORS/ERROR_SHOW":return oe(oe({},e),t.payload);default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER/AUTH_SUCCESS":return se(se({},e),t.payload);default:return e}}}),pe=Object(re.e)(ue,Object(re.d)(Object(re.a)(),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())),me=new s.HttpLink({uri:"http://localhost:4000/api"}),fe=new s.ApolloLink((function(e,t){return e.setContext({headers:{authorization:"Bearer ".concat(localStorage.getItem("token"))||!1}}),t(e)})),de=new s.ApolloClient({cache:new s.InMemoryCache,link:Object(s.concat)(fe,me)});c.a.render(a.a.createElement(l.a,{store:pe},a.a.createElement(s.ApolloProvider,{client:de},a.a.createElement(ne,null))),document.querySelector("#app"))}});