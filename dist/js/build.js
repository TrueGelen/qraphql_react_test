!function(e){function t(t){for(var r,c,l=t[0],s=t[1],i=t[2],m=0,p=[];m<l.length;m++)c=l[m],Object.prototype.hasOwnProperty.call(a,c)&&a[c]&&p.push(a[c][0]),a[c]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);for(u&&u(t);p.length;)p.shift()();return o.push.apply(o,i||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,l=1;l<n.length;l++){var s=n[l];0!==a[s]&&(r=!1)}r&&(o.splice(t--,1),e=c(c.s=n[0]))}return e}var r={},a={0:0},o=[];function c(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=e,c.c=r,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)c.d(n,r,function(t){return e[t]}.bind(null,r));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="";var l=window.webpackJsonp=window.webpackJsonp||[],s=l.push.bind(l);l.push=t,l=l.slice();for(var i=0;i<l.length;i++)t(l[i]);var u=s;o.push([97,1]),n()}({97:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(36),c=n.n(o),l=n(25),s=n(11),i=(n(83),n(87),n(28)),u=n.n(i),m=n(9),p=n(75),f=n(29),d=n.n(f),g=n(13),E=n.n(g),v="styles-module__errorLayout_54f3f",y="styles-module__show_afb94",O="styles-module__errMessage_430a0",b="styles-module__close_ead62";function _(e){var t=e.text,n=e.onClose,r=e.isError,o=(d()(e,["text","onClose","isError"]),""===t?"Ошибка не передана или не известна!":t);return a.a.createElement("div",{className:"".concat(v," ").concat(r&&y)},a.a.createElement("div",{className:b,onClick:n},a.a.createElement("p",null),a.a.createElement("p",null)),a.a.createElement("p",{className:O},o))}_.defaultProps={text:"Ошибка не передана или не известна!"},_.propTypes={text:E.a.string,onClose:E.a.func.isRequired};var h=n(50),w=n.n(h),j=n(73),N=n.n(j),P=n(74),S=n.n(P),R={pageWrapper:"styles-module__pageWrapper_7d6d1"};function x(e){e.className;var t=e.form;d()(e,["className","form"]);return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:R.pageWrapper},a.a.createElement("img",{className:R.logo,src:"/assets/imgs/proceset_logo.png"}),a.a.createElement("div",{className:R.formWrapper},t)))}x.defaultProps={className:void 0,form:[]},x.propTypes={className:E.a.string,form:E.a.node};function k(){return{type:"ERRORS/ERROR_SHOW",payload:{isError:!1,errMessage:""}}}var C={counter:"styles-module__counter_421b5"};function D(){var e=u()(["\n  mutation ($email: String!, $password: String!) {\n    login(email: $email, password: $password) {\n      token\n    }\n  }\n"]);return D=function(){return e},e}var M=Object(s.gql)(D());var I=function(e){console.log("LogInPage");var t=Object(s.useMutation)(M),n=S()(t,2),o=n[0];n[1].data,Object(r.useEffect)((function(){}),[]);var c=a.a.createElement("form",{className:C.form,onSubmit:function(e){e.preventDefault()}},a.a.createElement("input",{className:"".concat(C.inp," ").concat(C.inp_email),type:"email",name:"email",defaultValue:"Электронная почта",onChange:function(e){}}),a.a.createElement("input",{className:"".concat(C.inp," ").concat(C.inp_password),type:"password",name:"password",defaultValue:"Пароль",onChange:function(){}}),a.a.createElement("input",{className:"".concat(C.btn," ").concat(C.inp_password),type:"submit",value:"Войти в систему",onClick:function(){var e=N()(w.a.mark((function e(t){var n,r;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o({variables:{email:"racer@mail.com",password:"123456"}});case 2:n=e.sent,r=n.data.login.token,console.log(r),window.localStorage.setItem("token",r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),a.a.createElement("p",null,"Зарегистрироваться"));return a.a.createElement(x,{form:c})},L={header:"app-module__header_97303",btnMenu:"app-module__btnMenu_ed8dd"},T={counter:"styles-module__counter_de9c5"};var W=function(e){return console.log("RegistrationPage"),Object(r.useEffect)((function(){}),[]),a.a.createElement("div",{className:T.container},a.a.createElement("img",{className:T.logo,src:"/assets/imgs/proceset_logo.png"}),a.a.createElement("form",{className:T.form},a.a.createElement("input",{className:"".concat(T.inp," ").concat(T.inp_email),type:"text",name:"firstName",value:"Имя",onChange:function(){}}),a.a.createElement("input",{className:"".concat(T.inp," ").concat(T.inp_email),type:"text",name:"secondName",value:"Фамилия",onChange:function(){}}),a.a.createElement("input",{className:"".concat(T.inp," ").concat(T.inp_email),type:"email",name:"email",value:"Электронная почта",onChange:function(){}}),a.a.createElement("input",{className:"".concat(T.inp," ").concat(T.inp_password),type:"password",name:"password",value:"Пароль",onChange:function(){}}),a.a.createElement("input",{className:"".concat(T.btn," ").concat(T.inp_password),type:"submit",value:"Применить и выйти",onChange:function(){}}),a.a.createElement("p",null,"Уже зарегистрированы? Вход")))};function $(){var e=u()(["\n  query($id: Int!){\n    userById(id: $id){\n      id,\n      firstName,\n      secondName,\n      email\n    }\n  }\n"]);return $=function(){return e},e}var q=Object(s.gql)($());var A=function(e){console.log("LKPage");var t=Object(s.useQuery)(q,{variables:{id:1}}),n=t.loading,r=t.error,o=t.data;return n?a.a.createElement("p",null,"Loading..."):r?a.a.createElement("p",null,console.log(r),"Error :("):(console.log(o),a.a.createElement("div",null,"LK PAGE"))},F="styles-module__pageWrapper_00698";function H(e){e.className;var t=d()(e,["className"]);return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:F},t.children))}H.defaultProps={className:void 0,form:[]},H.propTypes={className:E.a.string,form:E.a.node};var U="styles-module__container_45c44";function B(e){return a.a.createElement("div",{className:U},a.a.createElement("p",null,"404 not found"),e.children)}var V=[{name:"home",url:"/",container:function(e){return console.log("ProcessesPage"),Object(r.useEffect)((function(){}),[]),a.a.createElement(H,null,"Processes PAGE")},exact:!0},{name:"login",url:"/login",container:I,exact:!0},{name:"registration",url:"/registration",container:W,exact:!0},{name:"lk",url:"/lk",container:A,exact:!0},{url:"**",container:function(e){return a.a.createElement(a.a.Fragment,null,a.a.createElement(B,null,a.a.createElement("p",{onClick:e.history.goBack},"Вернуться на главную!")))}}],X={};V.forEach((function(e){e.hasOwnProperty("name")&&(X[e.name]=e.url)}));function z(){var e=u()(["\n  query ($id: Int!){\n    userById(id: $id){\n      id\n    }\n  }\n"]);return z=function(){return e},e}var G=Object(s.gql)(z());function J(e){var t=Object(s.useQuery)(G,{variables:{id:1}}),n=(t.loading,t.error,t.data),r=Object(l.b)(),o=Object(l.c)((function(e){return e.errStore})),c=!!n,i=V.map((function(e){return a.a.createElement(m.a,{path:e.url,component:e.container,exact:e.exact,key:e.url})}));return a.a.createElement(p.a,null,a.a.createElement(a.a.Fragment,null,c?a.a.createElement(a.a.Fragment,null,a.a.createElement("header",{className:L.header},a.a.createElement("div",{className:L.btnMenu},a.a.createElement("img",{src:"".concat("/","assets/imgs/menu.png")}),a.a.createElement("p",null,"Меню"))),a.a.createElement("main",{className:L.content},a.a.createElement(m.c,null,i))):a.a.createElement(I,null),a.a.createElement(_,{text:o.errMessage,onClose:function(){r(k)},isError:o.isError})))}var K=n(26),Q=n(44),Y=n.n(Q);function Z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(n),!0).forEach((function(t){Y()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var te={isError:!1,errMessage:"Упс, что то пошло нет так :("};function ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ne(Object(n),!0).forEach((function(t){Y()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ae={authorized:!1,isLoading:!1,firstName:"",secondName:"",email:""};var oe=Object(K.c)({errStore:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ERRORS/ERROR_SHOW":case"ERRORS/ERROR_SHOW":return ee(ee({},e),t.payload);default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER/AUTH_SUCCESS":return re(re({},e),t.payload);default:return e}}}),ce=Object(K.e)(oe,Object(K.d)(Object(K.a)(),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())),le=new s.HttpLink({uri:"http://localhost:4000/api"}),se=new s.ApolloLink((function(e,t){return e.setContext({headers:{authorization:"Bearer ".concat(localStorage.getItem("token"))||!1}}),t(e)})),ie=new s.ApolloClient({cache:new s.InMemoryCache,link:Object(s.concat)(se,le)});c.a.render(a.a.createElement(l.a,{store:ce},a.a.createElement(s.ApolloProvider,{client:ie},a.a.createElement(J,null))),document.querySelector("#app"))}});