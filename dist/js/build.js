!function(e){function a(a){for(var r,s,c=a[0],o=a[1],i=a[2],m=0,d=[];m<c.length;m++)s=c[m],Object.prototype.hasOwnProperty.call(n,s)&&n[s]&&d.push(n[s][0]),n[s]=0;for(r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r]);for(u&&u(a);d.length;)d.shift()();return l.push.apply(l,i||[]),t()}function t(){for(var e,a=0;a<l.length;a++){for(var t=l[a],r=!0,c=1;c<t.length;c++){var o=t[c];0!==n[o]&&(r=!1)}r&&(l.splice(a--,1),e=s(s.s=t[0]))}return e}var r={},n={0:0},l=[];function s(a){if(r[a])return r[a].exports;var t=r[a]={i:a,l:!1,exports:{}};return e[a].call(t.exports,t,t.exports,s),t.l=!0,t.exports}s.m=e,s.c=r,s.d=function(e,a,t){s.o(e,a)||Object.defineProperty(e,a,{enumerable:!0,get:t})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,a){if(1&a&&(e=s(e)),8&a)return e;if(4&a&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(s.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&a&&"string"!=typeof e)for(var r in e)s.d(t,r,function(a){return e[a]}.bind(null,r));return t},s.n=function(e){var a=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(a,"a",a),a},s.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)},s.p="";var c=window.webpackJsonp=window.webpackJsonp||[],o=c.push.bind(c);c.push=a,c=c.slice();for(var i=0;i<c.length;i++)a(c[i]);var u=o;l.push([101,1]),t()}({100:function(e,a,t){var r={"./es-us":70,"./es-us.js":70,"./ru":71,"./ru.js":71};function n(e){var a=l(e);return t(a)}function l(e){if(!t.o(r,e)){var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}return r[e]}n.keys=function(){return Object.keys(r)},n.resolve=l,e.exports=n,n.id=100},101:function(e,a,t){"use strict";t.r(a);var r=t(0),n=t.n(r),l=t(42),s=t.n(l),c=t(18),o=t(7),i=(t(86),t(17)),u=t.n(i),m=t(11),d=t(27),_=t(12),p=t.n(_),f=t(4),v=t.n(f),b="styles-module__errorLayout_54f3f",g="styles-module__show_afb94",y="styles-module__errMessage_430a0",E="styles-module__close_ead62";function N(e){var a=e.text,t=e.onClose,r=e.isError,l=(p()(e,["text","onClose","isError"]),""===a?"Ошибка не передана или не известна!":a);return n.a.createElement("div",{className:"".concat(b," ").concat(r&&g)},n.a.createElement("div",{className:E,onClick:t},n.a.createElement("p",null),n.a.createElement("p",null)),n.a.createElement("p",{className:y},l))}var O=Object(r.memo)(N);N.defaultProps={text:"Ошибка не передана или не известна!"},N.propTypes={text:v.a.string,onClose:v.a.func.isRequired};var h="styles-module__loader_c315e";function j(e){var a=e.widthHeight;e.props;return n.a.createElement("div",{className:h},n.a.createElement("div",{style:{width:"".concat(a),height:"".concat(a)}}))}j.defaultProps={widthHeight:""},j.propTypes={widthHeight:v.a.string};var w="styles-module__menuWrapper_e07b6",C="styles-module__menuWrapper_show_2e358",M="styles-module__menuLeftPart_3e4e2",k="styles-module__menuLeftPart_show_acfff",P="styles-module__menuRightPart_e51da",S="styles-module__menu_73c5e",D="styles-module__menu__item_f004c",x="styles-module__menu__link_e76c8",L="styles-module__menu__link_active_f4481",V="styles-module__btnMenu_54249",$="styles-module__btnMenu_opened_5f94a",R=t.p+"assets/img/menu.png",T=t.p+"assets/img/user_icon.png",A=t.p+"assets/img/process_icon.png";function q(e){var a=e.className,t=e.isOpened,r=e.onClose,l=e.routes;return n.a.createElement("div",{className:"".concat(w," ").concat(t&&C," ").concat(a&&a)},console.log("========MENU RENDER======="),n.a.createElement("menu",{className:"".concat(M," ").concat(t&&k)},n.a.createElement("div",{className:"".concat(V," ").concat($),onClick:r},n.a.createElement("img",{src:R}),n.a.createElement("p",null,"proceset")),n.a.createElement("ul",{className:S},n.a.createElement("li",{className:D},n.a.createElement(d.c,{className:x,to:l.lk,activeClassName:L,onClick:r},n.a.createElement("img",{src:T}),n.a.createElement("p",null,"Профиль"))),n.a.createElement("li",{className:D},n.a.createElement(d.c,{className:x,to:l.processes,activeClassName:L,onClick:r},n.a.createElement("img",{src:A}),n.a.createElement("p",null,"Список процессов"))))),n.a.createElement("div",{className:P,onClick:r}))}var I=Object(r.memo)(q);q.defaultProps={className:void 0,onClose:function(){},routes:{}},q.propTypes={className:v.a.string,onClose:v.a.func,routes:v.a.object.isRequired};var z={header:"app-module__header_97303",btnMenu:"app-module__btnMenu_ed8dd",btnMenu_invisible:"app-module__btnMenu_invisible_568ed",btnMenu_opened:"app-module__btnMenu_opened_e16cf",badRequest:"app-module__badRequest_b534c"},H=t(31),Y=t.n(H),U=t(35),Z=t.n(U),W=t(21),F=t.n(W),Q="styles-module__pageWrapper_f4be2",B="styles-module__logo_01882",G="styles-module__formWrapper_5e785",J=t.p+"assets/img/proceset_logo.png";function X(e){e.className;var a=p()(e,["className"]);return n.a.createElement("div",{className:Q},n.a.createElement("img",{className:B,src:J}),n.a.createElement("div",{className:G},a.children))}var K=X;X.defaultProps={className:void 0},X.propTypes={className:v.a.string};var ee={inp:"styles-module__inp_df28d",err:"styles-module__err_2d0cb",errMessage:"styles-module__errMessage_cafcd",invisible:"styles-module__invisible_abe9f"};function ae(e){var a=e.value,t=e.type,r=e.name,l=e.placeholder,s=e.onChange,c=e.className,o=e.isValid,i=e.disabled,u=e.errMessage;p()(e,["value","type","name","placeholder","onChange","className","isValid","disabled","errMessage"]);return n.a.createElement("div",{className:"".concat(ee.wrap," ").concat(c)},n.a.createElement("input",{className:"".concat(o?ee.inp:ee.err),type:t,name:r,placeholder:l,value:a,onChange:function(e){s(e)},disabled:i}),n.a.createElement("p",{className:"".concat(ee.errMessage," ").concat(o&&ee.invisible)},""==u?"Текст для высоты":u))}var te=Object(r.memo)(ae);ae.defaultProps={value:"",type:"text",name:"",placeholder:"",onChange:function(){},className:null,isValid:!0,disabled:!1,errMessage:"Текст для высоты"},ae.propTypes={value:v.a.oneOfType([v.a.string,v.a.number]),type:v.a.string,name:v.a.string,placeholder:v.a.string,onChange:v.a.func,className:v.a.string,isValid:v.a.bool,disabled:v.a.bool,errMessage:v.a.oneOfType([v.a.string,v.a.number])};var re="styles-module__inpWrap_a22da",ne="styles-module__wrap_ae388",le="styles-module__logo_67138",se="styles-module__inp_63ef7",ce="styles-module__err_66fb6",oe="styles-module__errMessage_38dda",ie="styles-module__invisible_e714b",ue=t.p+"assets/img/password_invisible.png",me=t.p+"assets/img/password_visible.png";function de(e){var a=e.value,t=e.name,l=e.placeholder,s=e.onChange,c=e.className,o=e.isValid,i=e.disabled,m=e.errMessage,d=e.showPassword,_=(p()(e,["value","name","placeholder","onChange","className","isValid","disabled","errMessage","showPassword"]),Object(r.useState)(d)),f=u()(_,2),v=f[0],b=f[1],g=v?me:ue;return n.a.createElement("div",{className:"".concat(ne," ").concat(c)},n.a.createElement("div",{className:"".concat(re)},n.a.createElement("input",{className:"".concat(o?se:ce),type:v?"text":"password",name:t,placeholder:l,value:a,onChange:function(e){s(e)},disabled:i}),n.a.createElement("img",{src:g,className:"".concat(le),onClick:function(){return b(!v)}})),n.a.createElement("p",{className:"".concat(oe," ").concat(o&&ie)},""==m?"Текст для высоты":m))}de.defaultProps={value:"",name:"",placeholder:"",onChange:function(){},className:null,isValid:!0,disabled:!1,errMessage:"Текст для высоты"},de.propTypes={value:v.a.oneOfType([v.a.string,v.a.number]),type:v.a.string,name:v.a.string,placeholder:v.a.string,onChange:v.a.func,className:v.a.string,isValid:v.a.bool,disabled:v.a.bool,errMessage:v.a.oneOfType([v.a.string,v.a.number])};var _e=Object(r.memo)(de),pe="index-module__btn_a75a9";function fe(e){var a=e.className,t=e.onClick,r=e.type,l=e.value,s=e.disabled;p()(e,["className","onClick","type","value","disabled"]);return n.a.createElement("input",{className:"".concat(pe,"\n        ").concat(a&&a),type:r,value:l,onClick:function(e){e.stopPropagation(),t()},disabled:s})}var ve=Object(r.memo)(fe);fe.defaultProps={type:"button",className:void 0,disabled:!1,onClick:function(){}},fe.propTypes={className:v.a.string,onClick:v.a.func,type:v.a.string,disabled:v.a.bool,value:v.a.string.isRequired};var be=t.p+"assets/img/danger.png",ge="styles-module__errorLayout_9266a",ye="styles-module__dangerLogo_6ba7b",Ee="styles-module__errMessage_92e3c";function Ne(e){var a=e.text,t=(e.onClose,e.className),r=(p()(e,["text","onClose","className"]),""===a?"Ошибка не передана или не известна!":a);return n.a.createElement("div",{className:"".concat(ge," ").concat(t&&t)},n.a.createElement("img",{className:ye,src:be}),n.a.createElement("p",{className:Ee},r))}var Oe=Object(r.memo)(Ne);Ne.defaultProps={className:null,text:"Ошибка не передана или не известна!"},Ne.propTypes={text:v.a.string,onClose:v.a.func,className:v.a.string};var he=t(28),je=t.n(he);function we(){var e=je()(["\n\tmutation($firstName: String!, $secondName: String!, $email: String!, $password: String!){\n\t\tsignup(firstName:$firstName, secondName: $secondName, email: $email, password:$password)\n\t}\n"]);return we=function(){return e},e}var Ce=Object(o.gql)(we()),Me="styles-module__form_aeaab",ke="styles-module__question_95400",Pe="styles-module__registration_65484",Se="styles-module__errorNotification_3ae3b";function De(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);a&&(r=r.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,r)}return t}function xe(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?De(Object(t),!0).forEach((function(a){F()(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):De(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}var Le="USER/LOGIN";function Ve(e){return{type:"ERRORS/ERROR_SHOW",payload:{isError:!0,errMessage:e}}}function $e(e){return{type:Le,payload:{id:e,isAuthorized:!0}}}function Re(){var e=je()(["\n  mutation ($email: String!, $password: String!) {\n    login(email: $email, password: $password) {\n\t\t\ttoken,\n\t\t\tuser {\n\t\t\t\tid\n\t\t\t}\n    }\n  }\n"]);return Re=function(){return e},e}var Te=Object(o.gql)(Re()),Ae="styles-module__form_18398",qe="styles-module__registration_d2354",Ie="styles-module__errorNotification_c0efb";function ze(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);a&&(r=r.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,r)}return t}function He(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?ze(Object(t),!0).forEach((function(a){F()(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ze(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}var Ye="styles-module__layout_5579f";function Ue(e){var a=e.className,t=p()(e,["className"]);return n.a.createElement("div",{className:"".concat(Ye," ").concat(a)},t.children)}var Ze=Object(r.memo)(Ue);function We(){var e=je()(["\n\tmutation($id: Int!, $firstName: String!, $secondName: String!, $email: String!, $password: String!){\n\t\teditUser(id: $id, firstName:$firstName, secondName: $secondName, email: $email, password:$password){\n      id\n    }\n\t}\n"]);return We=function(){return e},e}function Fe(){var e=je()(["\n  query($id: Int!){\n    userById(id: $id){\n      id,\n      firstName,\n      secondName,\n      email\n    }\n  }\n"]);return Fe=function(){return e},e}Ue.defaultProps={className:void 0},Ue.propTypes={className:v.a.string};var Qe=Object(o.gql)(Fe()),Be=Object(o.gql)(We()),Ge={header:"styles-module__header_c18be",header__title:"styles-module__header__title_e3556",userData:"styles-module__userData_b18b8",userData__item:"styles-module__userData__item_32c42",userData__label:"styles-module__userData__label_0b699",userData__inp:"styles-module__userData__inp_80d41"};function Je(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);a&&(r=r.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,r)}return t}function Xe(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?Je(Object(t),!0).forEach((function(a){F()(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Je(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}var Ke=function(e){var a=Object(c.b)(),t=Object(c.c)((function(e){return e.user.id})),l=Object(o.useQuery)(Qe,{variables:{id:t}}),s=l.loading,i=l.error,m=l.data,d=Object(o.useMutation)(Be),_=u()(d,2),p=_[0],f=_[1].loading;i&&(a(Ve("Не удалось получить данные с сервера :(\r\n Попробуйте позже")),e.history.push("/"));var v=m?m.userById:{},b=v.firstName,g=void 0===b?"":b,y=v.secondName,E=void 0===y?"":y,N=v.email,O=void 0===N?"":N,h=Object(r.useState)(!1),w=u()(h,2),C=w[0],M=w[1],k=Object(r.useState)({firstName:{value:g,errMessage:'Поле "имя" должно содержать минимум два символа и не должно содержать цифр.',isValid:!0,validate:function(e,a){return/^[a-zA-Zа-яА-Я']{2,}$/.test(e.trim())}},secondName:{value:E,errMessage:'Поле "фамилия" должно содержать минимум два символа и не должно содержать цифр.',isValid:!0,validate:function(e,a){return/^[a-zA-Zа-яА-Я']{1,}$/.test(e.trim())}},email:{value:O,errMessage:"Не корректный email",isValid:!0,validate:function(e,a){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e.trim())}},password:{value:"",errMessage:"Пароль должен состоять из цифр, букв и хотя бы одного спец. символа из [!@#$%&_=.`~,[]:;|/]. Так же всего должно быть не меньше 8 символов.",isValid:!0,validate:function(e,a){return[/^.*[0-9]+.*$/,/^.*[!@#$%&_=\.`~,\[\]:;\{\}\|\\\/]+.*$/,/^.*[a-zA-Z]+.*$/,/^[\d\w\!\@\#\$\%\&\_\=\.\`\~\,\[\:\;\{\}\|\\\/]{8,}/].every((function(a){return a.test(e)}))}},checkPassword:{value:"",errMessage:"Пароли не совпадают",isValid:!0,validate:function(e,a){return e===a.password.value&&""!==e}}}),P=u()(k,2),S=P[0],D=P[1],x=Object(r.useCallback)((function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,t="string"==typeof e?e:e.target.value,r=a||e.target.name;D((function(e){var a=e[r].validate(t,e);return Xe(Xe({},e),{},F()({},r,Xe(Xe({},e[r]),{},{value:t,isValid:a})))}))}),[]);Object(r.useEffect)((function(){!function(){var e={firstName:g,secondName:E,email:O};if(m)for(var a in e)x(e[a],a)}()}),[m]);var L=function(){var e=Z()(Y.a.mark((function e(r){var n,l,s,c;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=r.firstName.value,l=r.secondName.value,s=r.email.value,c=r.password.value,e.next=7,p({variables:{id:t,email:s,firstName:n,secondName:l,password:c}});case 7:e.sent&&(M(!0),setTimeout((function(){M(!1)}),3e3)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),a(Ve("Что то пошло не так :(\r\n Попробуйте позже"));case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(a){return e.apply(this,arguments)}}(),V=Object(r.useCallback)((function(){D((function(e){var a=Object.keys(e);return a.every((function(a){return""!==e[a].value&&e[a].isValid}))?L(e):a.forEach((function(a){return x(e[a].value,a)})),e}))}),[]);return n.a.createElement(n.a.Fragment,null,s?n.a.createElement(j,null):n.a.createElement(Ze,{className:Ge.layout},n.a.createElement("div",{className:Ge.header},n.a.createElement("p",{className:Ge.header__title},"".concat(g," ").concat(E,". Редактирование")),n.a.createElement(ve,{disabled:f||C,value:f?"Сохранение...":C?"Сохранено":"Сохранить",onClick:V})),n.a.createElement("ul",{className:Ge.userData},n.a.createElement("li",{className:Ge.userData__item},n.a.createElement("label",{className:Ge.userData__label},"Имя"),n.a.createElement(te,{className:Ge.userData__inp,disabled:f,value:S.firstName.value,type:"text",name:"firstName",placeholder:"Имя",errMessage:S.firstName.errMessage,isValid:S.firstName.isValid,onChange:x})),n.a.createElement("li",{className:Ge.userData__item},n.a.createElement("label",{className:Ge.userData__label},"Фамилия"),n.a.createElement(te,{className:Ge.userData__inp,disabled:f,value:S.secondName.value,type:"text",name:"secondName",placeholder:"Фамилия",errMessage:S.secondName.errMessage,isValid:S.secondName.isValid,onChange:x})),n.a.createElement("li",{className:Ge.userData__item},n.a.createElement("label",{className:Ge.userData__label},"Электронная почта"),n.a.createElement(te,{className:Ge.userData__inp,disabled:f,value:S.email.value,type:"email",name:"email",placeholder:"Электронная почта",errMessage:S.email.errMessage,isValid:S.email.isValid,onChange:x})),n.a.createElement("li",{className:Ge.userData__item},n.a.createElement("label",{className:Ge.userData__label},"Новый (или старый) пароль"),n.a.createElement(_e,{className:Ge.userData__inp,disabled:f,value:S.password.value,name:"password",placeholder:"Не задано",errMessage:S.password.errMessage,isValid:S.password.isValid,onChange:x})),n.a.createElement("li",{className:Ge.userData__item},n.a.createElement("label",{className:Ge.userData__label},"Повторите пароль"),n.a.createElement(_e,{className:Ge.userData__inp,disabled:f,value:S.checkPassword.value,name:"checkPassword",placeholder:"Не задано",errMessage:S.checkPassword.errMessage,isValid:S.checkPassword.isValid,onChange:x})))))},ea=t(32),aa=t.n(ea),ta=t.p+"assets/img/chevrone_right.png",ra=t.p+"assets/img/clock.png",na=t.p+"assets/img/load.png",la=t.p+"assets/img/timer.png",sa=t.p+"assets/img/tree.png",ca=t.p+"assets/img/users.png",oa={card:"LineCard-module__card_22f08",header:"LineCard-module__header_62018",header__title:"LineCard-module__header__title_88478",header__link:"LineCard-module__header__link_34371",header__link_disabled:"LineCard-module__header__link_disabled_1ed13",body:"LineCard-module__body_9766a",body__item:"LineCard-module__body__item_ca65e",dataCell:"LineCard-module__dataCell_31316",dataCell__icon:"LineCard-module__dataCell__icon_91150",dataCell__data:"LineCard-module__dataCell__data_9a565",dataCell__title:"LineCard-module__dataCell__title_d06cb",dataCell__label:"LineCard-module__dataCell__label_10c2c",dateLine:"LineCard-module__dateLine_259fd",dateLine__title:"LineCard-module__dateLine__title_110e3",dateLine__date:"LineCard-module__dateLine__date_83fdf"};function ia(e){var a=e.className,t=(e.onClick,e.data),r=e.link,l=(p()(e,["className","onClick","data","link"]),t.averageLeadTime),s=t.averageActiveTime,c=t.start,o=t.end,i=t.loading,u=t.numberOfExecutions,m=t.numberOfScenarios,_=t.name,f=t.employeesInvolvedProcess;return n.a.createElement("div",{className:"".concat(oa.card," ").concat(a)},n.a.createElement("div",{className:oa.header},n.a.createElement("h3",{className:oa.header__title},_),r?n.a.createElement(d.b,{className:oa.header__link,to:r},n.a.createElement("p",null,"На карту процесса"),n.a.createElement("img",{src:ta})):n.a.createElement("a",{className:"".concat(oa.header__link," ").concat(oa.header__link_disabled)},n.a.createElement("p",null,"На карту процесса"),n.a.createElement("img",{src:ta}))),n.a.createElement("div",{className:oa.body},n.a.createElement("div",{className:oa.body__item},n.a.createElement("div",{className:oa.dataCell},n.a.createElement("img",{className:oa.dataCell__icon,src:na}),n.a.createElement("div",{className:oa.dataCell__data},n.a.createElement("p",{className:"".concat(oa.dataCell__title," ").concat(oa.dataCell__title_numberOfExecutions)},u),n.a.createElement("p",{className:"".concat(oa.dataCell__label)},"выполнено раз")))),n.a.createElement("div",{className:oa.body__item},n.a.createElement("div",{className:oa.dataCell},n.a.createElement("img",{className:oa.dataCell__icon,src:ra}),n.a.createElement("div",{className:oa.dataCell__data},n.a.createElement("p",{className:oa.dataCell__title},l),n.a.createElement("p",{className:"".concat(oa.dataCell__label)},"среднее время выполнения"))),n.a.createElement("div",{className:oa.dataCell},n.a.createElement("img",{className:oa.dataCell__icon,src:la}),n.a.createElement("div",{className:oa.dataCell__data},n.a.createElement("p",{className:oa.dataCell__title},s),n.a.createElement("p",{className:"".concat(oa.dataCell__label)},"среднее активное время")))),n.a.createElement("div",{className:oa.body__item},n.a.createElement("div",{className:oa.dataCell},n.a.createElement("img",{className:oa.dataCell__icon,src:sa}),n.a.createElement("div",{className:oa.dataCell__data},n.a.createElement("p",{className:oa.dataCell__title},f),n.a.createElement("p",{className:"".concat(oa.dataCell__label)},"участвуют в процессе"))),n.a.createElement("div",{className:oa.dataCell},n.a.createElement("img",{className:oa.dataCell__icon,src:ca}),n.a.createElement("div",{className:oa.dataCell__data},n.a.createElement("p",{className:oa.dataCell__title},m),n.a.createElement("p",{className:"".concat(oa.dataCell__label)},"в процессе")))),n.a.createElement("div",{className:oa.body__item},n.a.createElement("div",{className:oa.dateLine},n.a.createElement("p",{className:oa.dateLine__title},"Начало"),n.a.createElement("p",{className:oa.dateLine__date},c)),n.a.createElement("div",{className:oa.dateLine},n.a.createElement("p",{className:oa.dateLine__title},"Окончание"),n.a.createElement("p",{className:oa.dateLine__date},o)),n.a.createElement("div",{className:oa.dateLine},n.a.createElement("p",{className:oa.dateLine__title},"Загрузка"),n.a.createElement("p",{className:oa.dateLine__date},i)))))}var ua=Object(r.memo)(ia);ia.defaultProps={className:void 0,onClick:function(){},data:{},link:null},ia.propTypes={className:v.a.string,onClick:v.a.func,data:v.a.object,link:v.a.string};var ma="styles-module__layout_45cb4";function da(){var e=je()(["\n  query{\n    processList{\n      id,\n      name,\n      numberOfExecutions,\n      averageLeadTime,\n      averageActiveTime,\n      employeesInvolvedProcess,\n      numberOfScenarios,\n      start,\n      end,\n      loading\n    }\n  }\n"]);return da=function(){return e},e}var _a=Object(o.gql)(da());aa.a.locale("ru");var pa=function(e){var a=Object(o.useQuery)(_a),t=a.loading,l=a.error,s=a.data;if(l)return n.a.createElement(Ze,{className:ma},n.a.createElement(Oe,{text:"Не удалось получить данные, попробуйте позже..."}));var c=Object(r.useMemo)((function(){return s?s.processList.map((function(e){var a,t=e.id,r=e.averageLeadTime,l=e.averageActiveTime,s=e.start,c=e.end,o=e.loading,i=e.numberOfExecutions,u=e.numberOfScenarios,m=e.name,d=e.employeesInvolvedProcess,_=aa.a.utc(Number(r)).format("HH:mm").split(":"),p=aa.a.utc(Number(l)).format("HH:mm").split(":");l="".concat(p[0],"ч ").concat(p[1]," мин (").concat((l/r*100).toFixed(1),"%)"),r="".concat(_[0],"ч ").concat(_[1]," мин"),s=aa.a.unix(Number(s)).format("DD MMMM YYYY"),c=aa.a.unix(Number(c)).format("DD MMMM YYYY"),o=aa.a.unix(Number(o)).format("DD MMMM YYYY"),i=i.toLocaleString("ru");var f=u.toLocaleString("ru");u="".concat(f," сценариев");var v=d.toLocaleString("ru");return a={averageLeadTime:r,averageActiveTime:l,start:s,end:c,loading:o,numberOfExecutions:i,numberOfScenarios:u,name:m,employeesInvolvedProcess:d="".concat(v," сотрудников")},n.a.createElement(ua,{key:t,data:a})})):null}),[s]);return n.a.createElement(Ze,{className:ma},t?n.a.createElement(j,null):c||"Пока ничего...")},fa="styles-module__container_45c44";function va(e){return n.a.createElement("div",{className:fa},n.a.createElement("p",null,"404 not found"),e.children)}var ba="styles-module__goToTheMain_bbe77";var ga=[{name:"home",url:"/",container:pa,exact:!0},{name:"login",url:"/login",container:function(e){var a=Object(o.useMutation)(Te),t=u()(a,2),l=t[0],s=t[1],i=s.error,_=void 0!==i&&i,p=s.loading,f=Object(c.b)(),v=Object(c.c)((function(e){return e.user.isAuthorized})),b=Object(r.useState)({email:"",password:""}),g=u()(b,2),y=g[0],E=g[1],N=Object(r.useCallback)((function(e){var a=e.target.value,t=e.target.name;E((function(e){return He(He({},e),{},F()({},t,a))}))}),[]),O=function(){var a=Z()(Y.a.mark((function a(){var t,r,n;return Y.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,l({variables:He({},y)});case 2:t=a.sent,r=t.data.login.token,n=t.data.login.user.id,window.localStorage.setItem("token",r),f($e(n)),e.history.go(0);case 8:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}(),h=Object(r.useMemo)((function(){return p?n.a.createElement("p",{className:"".concat(qe)}," Зарегистрироваться "):n.a.createElement(d.b,{className:"".concat(qe),to:ya.registration},"Зарегистрироваться")}),[p]),j=Object(r.useMemo)((function(){if(_)return _.networkError?n.a.createElement(Oe,{className:Ie,text:"Сервер не отвечает, попробуйте позже"}):n.a.createElement(Oe,{className:Ie,text:"Неправильный логин или пароль"})}),[_]);return n.a.createElement(n.a.Fragment,null,v?n.a.createElement(m.a,{to:"/"}):n.a.createElement(K,null,n.a.createElement("form",{className:Ae,onSubmit:function(e){e.preventDefault(),O()}},n.a.createElement(te,{disabled:p,value:y.email,type:"email",name:"email",placeholder:"Электронная почта",onChange:N}),n.a.createElement(_e,{disabled:p,value:y.password,name:"password",placeholder:"Пароль",onChange:N}),n.a.createElement(ve,{type:"submit",disabled:p,value:p?"Вход в систему, ждите...":"Войти в систему"})),h,j))},exact:!0},{name:"registration",url:"/registration",container:function(e){var a=Object(o.useMutation)(Ce),t=u()(a,2),l=t[0],s=t[1],i=s.loading,_=s.error,p=Object(c.c)((function(e){return e.user.isAuthorized})),f=Object(r.useState)({firstName:{value:"",errMessage:'Поле "имя" должно содержать минимум два символа и не должно содержать цифр.',isValid:!0,validate:function(e,a){return/^[a-zA-Zа-яА-Я']{2,}$/.test(e.trim())}},secondName:{value:"",errMessage:'Поле "фамилия" должно содержать минимум два символа и не должно содержать цифр.',isValid:!0,validate:function(e,a){return/^[a-zA-Zа-яА-Я']{1,}$/.test(e.trim())}},email:{value:"",errMessage:"Не корректный email",isValid:!0,validate:function(e,a){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e.trim())}},password:{value:"",errMessage:"Пароль должен состоять из цифр, букв и хотя бы одного спец. символа из [!@#$%&_=.`~,[]:;|/]. Так же всего должно быть не меньше 8 символов.",isValid:!0,validate:function(e,a){return[/^.*[0-9]+.*$/,/^.*[!@#$%&_=\.`~,\[\]:;\{\}\|\\\/]+.*$/,/^.*[a-zA-Z]+.*$/,/^[\d\w\!\@\#\$\%\&\_\=\.\`\~\,\[\:\;\{\}\|\\\/]{8,}/].every((function(a){return a.test(e)}))}},checkPassword:{value:"",errMessage:"Пароли не совпадают",isValid:!0,validate:function(e,a){return e===a.password.value&&""!==e}}}),v=u()(f,2),b=v[0],g=v[1],y=Object(r.useCallback)((function(e,a,t){var r=e?e.target.value:a,n=e?e.target.name:t;g((function(e){var a=e[n].validate(r,e);return xe(xe({},e),{},F()({},n,xe(xe({},e[n]),{},{value:r,isValid:a})))}))}),[]),E=function(){var a=Z()(Y.a.mark((function a(){var t,r,n,s,c,o;return Y.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t=b.firstName.value,r=b.secondName.value,n=b.email.value,s=b.password.value,a.next=7,l({variables:{firstName:t,secondName:r,email:n,password:s}});case 7:c=a.sent,o=c.data.signup,window.localStorage.setItem("token",o),e.history.go(0),a.next=15;break;case 13:a.prev=13,a.t0=a.catch(0);case 15:case"end":return a.stop()}}),a,null,[[0,13]])})));return function(){return a.apply(this,arguments)}}(),N=Object(r.useMemo)((function(){return i?n.a.createElement("p",{className:"".concat(ke)}," Уже зарегистрированы? Вход"):n.a.createElement("p",null,"Уже зарегистрированы? ",n.a.createElement(d.b,{className:"".concat(Pe),to:ya.login},"Вход"))}),[i]),O=Object(r.useMemo)((function(){if(_){var e=null;return e=_.networkError?_.networkError.statusCode:_.graphQLErrors[0].statusCode,n.a.createElement(Oe,{className:Se,text:500===e?"Такой email уже зарегистрирован.":"Ошибка :( Попробуйте позже"})}return null}),[_]);return n.a.createElement(n.a.Fragment,null,p?n.a.createElement(m.a,{to:"/"}):n.a.createElement(K,null,n.a.createElement("form",{className:Me,onSubmit:function(e){e.preventDefault();var a=Object.keys(b);a.every((function(e){return""!==b[e].value&&b[e].isValid}))?E():a.forEach((function(e){return y(null,b[e].value,e)}))}},n.a.createElement(te,{disabled:i,value:b.firstName.value,type:"text",name:"firstName",placeholder:"Имя",errMessage:b.firstName.errMessage,isValid:b.firstName.isValid,onChange:y}),n.a.createElement(te,{disabled:i,value:b.secondName.value,type:"text",name:"secondName",placeholder:"Фамилия",errMessage:b.secondName.errMessage,isValid:b.secondName.isValid,onChange:y}),n.a.createElement(te,{disabled:i,value:b.email.value,type:"email",name:"email",placeholder:"Электронная почта",errMessage:b.email.errMessage,isValid:b.email.isValid,onChange:y}),n.a.createElement(_e,{disabled:i,value:b.password.value,name:"password",placeholder:"Введите пароль",errMessage:b.password.errMessage,isValid:b.password.isValid,onChange:y}),n.a.createElement(_e,{disabled:i,value:b.checkPassword.value,name:"checkPassword",placeholder:"Повторите пароль",errMessage:b.checkPassword.errMessage,isValid:b.checkPassword.isValid,onChange:y}),n.a.createElement(ve,{type:"submit",disabled:i,value:i?"Идет отправка на сервер...":"Регистрация"})),N,O))},exact:!0},{name:"lk",url:"/lk",container:Ke,exact:!0},{name:"processes",url:"/processes",container:pa,exact:!0},{url:"**",container:function(e){return n.a.createElement(va,null,n.a.createElement("p",{className:ba,onClick:function(){e.history.push("/")}},"Вернуться на главную!"))}}],ya={};ga.forEach((function(e){e.hasOwnProperty("name")&&(ya[e.name]=e.url)}));function Ea(){var e=je()(["\n\tquery{\n\t\tcurrentUser{\n      id,\n      email,\n      firstName,\n      secondName\n\t\t}\n\t}\n"]);return Ea=function(){return e},e}var Na=Object(o.gql)(Ea());var Oa=function(e){var a=Object(r.useState)(!1),t=u()(a,2),l=t[0],s=t[1],i=Object(o.useQuery)(Na),_=i.loading,p=void 0!==_&&_,f=i.error,v=void 0!==f&&f,b=i.data,g=void 0===b?null:b,y=Object(c.b)(),E=Object(c.c)((function(e){return e.errStore})),N=Object(c.c)((function(e){return e.user.id})),h=Object(r.useMemo)((function(){return!!g}),[g]);g&&g.currentUser.id!==N&&y($e(g.currentUser.id));var w=Object(r.useCallback)((function(){s(!0)}),[]),C=Object(r.useCallback)((function(){s(!1)}),[]),M=Object(r.useCallback)((function(){y({type:"ERRORS/ERROR_SHOW",payload:{isError:!1,errMessage:""}})}),[]),k=Object(r.useMemo)((function(){return ga.map((function(e){return n.a.createElement(m.b,{path:e.url,component:e.container,exact:e.exact,key:e.url})}))}),[ga]),P=Object(r.useMemo)((function(){return v.networkError?n.a.createElement("p",{className:z.badRequest},"Не удалось получить ответ от сервера :(",n.a.createElement("br",null),"Попробуйте позже..."):h?n.a.createElement(n.a.Fragment,null,n.a.createElement("header",{className:z.header},n.a.createElement("div",null,n.a.createElement("div",{className:"".concat(z.btnMenu," ").concat(l&&z.btnMenu_invisible),onClick:w},n.a.createElement("img",{src:R}),n.a.createElement("p",null,"Меню")))),n.a.createElement("main",{className:z.content},n.a.createElement(m.d,null,k))):n.a.createElement(n.a.Fragment,null,n.a.createElement(m.a,{to:{pathname:"/registration"===location.pathname?"/registration":"/login"}}),n.a.createElement(m.d,null,k))}),[v,h]);return n.a.createElement(d.a,null,n.a.createElement(n.a.Fragment,null,p?n.a.createElement(j,null):P,n.a.createElement(I,{routes:ya,isOpened:l,onClose:C}),n.a.createElement(O,{text:E.errMessage,onClose:M,isError:E.isError})))},ha=t(33);function ja(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);a&&(r=r.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,r)}return t}function wa(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?ja(Object(t),!0).forEach((function(a){F()(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ja(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}var Ca={isError:!1,errMessage:"Упс, что то пошло нет так :("};function Ma(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);a&&(r=r.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,r)}return t}function ka(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?Ma(Object(t),!0).forEach((function(a){F()(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ma(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}var Pa={id:null,isAuthorized:!1};var Sa=Object(ha.c)({errStore:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ca,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"ERRORS/ERROR_SHOW":case"ERRORS/ERROR_SHOW":return wa(wa({},e),a.payload);default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pa,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case Le:case"USER/LOGIN":return ka(ka({},e),a.payload);default:return e}}}),Da=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||ha.d,xa=Object(ha.e)(Sa,Da(Object(ha.a)())),La=new o.HttpLink({uri:"http://localhost:4000/api"}),Va=new o.ApolloLink((function(e,a){return e.setContext({headers:{authorization:localStorage.getItem("token")?"Bearer ".concat(localStorage.getItem("token")):null}}),a(e)})),$a=new o.ApolloClient({cache:new o.InMemoryCache,link:Object(o.concat)(Va,La)});s.a.render(n.a.createElement(c.a,{store:xa},n.a.createElement(o.ApolloProvider,{client:$a},n.a.createElement(Oa,null))),document.querySelector("#app"))}});