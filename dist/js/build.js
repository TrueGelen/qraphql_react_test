!function(e){function a(a){for(var r,l,c=a[0],i=a[1],o=a[2],m=0,d=[];m<c.length;m++)l=c[m],Object.prototype.hasOwnProperty.call(n,l)&&n[l]&&d.push(n[l][0]),n[l]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r]);for(u&&u(a);d.length;)d.shift()();return s.push.apply(s,o||[]),t()}function t(){for(var e,a=0;a<s.length;a++){for(var t=s[a],r=!0,c=1;c<t.length;c++){var i=t[c];0!==n[i]&&(r=!1)}r&&(s.splice(a--,1),e=l(l.s=t[0]))}return e}var r={},n={0:0},s=[];function l(a){if(r[a])return r[a].exports;var t=r[a]={i:a,l:!1,exports:{}};return e[a].call(t.exports,t,t.exports,l),t.l=!0,t.exports}l.m=e,l.c=r,l.d=function(e,a,t){l.o(e,a)||Object.defineProperty(e,a,{enumerable:!0,get:t})},l.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,a){if(1&a&&(e=l(e)),8&a)return e;if(4&a&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(l.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&a&&"string"!=typeof e)for(var r in e)l.d(t,r,function(a){return e[a]}.bind(null,r));return t},l.n=function(e){var a=e&&e.__esModule?function(){return e.default}:function(){return e};return l.d(a,"a",a),a},l.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)},l.p="";var c=window.webpackJsonp=window.webpackJsonp||[],i=c.push.bind(c);c.push=a,c=c.slice();for(var o=0;o<c.length;o++)a(c[o]);var u=i;s.push([97,1]),t()}({97:function(e,a,t){"use strict";t.r(a);var r=t(0),n=t.n(r),s=t(41),l=t.n(s),c=t(13),i=t(10),o=(t(83),t(87),t(19)),u=t.n(o),m=t(27),d=t.n(m),p=t(11),f=t(32),v=t(25),g=t.n(v),_=t(4),b=t.n(_),y="styles-module__errorLayout_54f3f",h="styles-module__show_afb94",O="styles-module__errMessage_430a0",E="styles-module__close_ead62";function N(e){var a=e.text,t=e.onClose,r=e.isError,s=(g()(e,["text","onClose","isError"]),""===a?"Ошибка не передана или не известна!":a);return n.a.createElement("div",{className:"".concat(y," ").concat(r&&h)},n.a.createElement("div",{className:E,onClick:t},n.a.createElement("p",null),n.a.createElement("p",null)),n.a.createElement("p",{className:O},s))}N.defaultProps={text:"Ошибка не передана или не известна!"},N.propTypes={text:b.a.string,onClose:b.a.func.isRequired};var w="styles-module__loader_c315e";function j(e){var a=e.widthHeight;e.props;return n.a.createElement("div",{className:w},n.a.createElement("div",{style:{width:"".concat(a),height:"".concat(a)}}))}j.defaultProps={widthHeight:""},j.propTypes={widthHeight:b.a.string};var P={header:"app-module__header_97303",btnMenu:"app-module__btnMenu_ed8dd",btnMenu_invisible:"app-module__btnMenu_invisible_568ed",btnMenu_opened:"app-module__btnMenu_opened_e16cf",menuWrapper:"app-module__menuWrapper_c9ddf",menuLeftPart:"app-module__menuLeftPart_a3a65",menuRightPart:"app-module__menuRightPart_656c3",menu:"app-module__menu_7dfe1",menu__item:"app-module__menu__item_6110e",menu__link:"app-module__menu__link_b0113",menu__link_active:"app-module__menu__link_active_ba43a"},M=t(30),k=t.n(M),S=t(34),V=t.n(S),D=t(14),C=t.n(D),$="styles-module__pageWrapper_7d6d1",x="styles-module__logo_7f184",R="styles-module__formWrapper_d4e34";function A(e){e.className;var a=e.form,t=g()(e,["className","form"]);return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:$},n.a.createElement("img",{className:x,src:"/assets/imgs/proceset_logo.png"}),n.a.createElement("div",{className:R},a,t.children)))}A.defaultProps={className:void 0,form:[]},A.propTypes={className:b.a.string,form:b.a.node};var T={inp:"styles-module__inp_df28d",err:"styles-module__err_2d0cb",errMessage:"styles-module__errMessage_cafcd",invisible:"styles-module__invisible_abe9f"};function z(e){var a=e.value,t=e.type,r=e.name,s=e.placeholder,l=e.onChange,c=e.className,i=e.isValid,o=e.disabled,u=e.errMessage;g()(e,["value","type","name","placeholder","onChange","className","isValid","disabled","errMessage"]);return n.a.createElement("div",{className:"".concat(T.wrap," ").concat(c)},n.a.createElement("input",{className:"".concat(i?T.inp:T.err),type:t,name:r,placeholder:s,value:a,onChange:l,disabled:o}),n.a.createElement("p",{className:"".concat(T.errMessage," ").concat(i&&T.invisible)},""==u?"Текст для высоты":u))}z.defaultProps={value:"",type:"text",name:"",placeholder:"",onChange:function(){},className:null,isValid:!0,disabled:!1,errMessage:"Текст для высоты"},z.propTypes={value:b.a.oneOfType([b.a.string,b.a.number]),type:b.a.string,name:b.a.string,placeholder:b.a.string,onChange:b.a.func,className:b.a.string,isValid:b.a.bool,disabled:b.a.bool,errMessage:b.a.oneOfType([b.a.string,b.a.number])};var I="styles-module__inpWrap_a22da",q="styles-module__wrap_ae388",L="styles-module__logo_67138",Z="styles-module__inp_63ef7",W="styles-module__err_66fb6",F="styles-module__errMessage_38dda",H="styles-module__invisible_e714b";function U(e){var a=e.value,t=e.name,s=e.placeholder,l=e.onChange,c=e.className,i=e.isValid,o=e.disabled,m=e.errMessage,d=e.showPassword,p=(g()(e,["value","name","placeholder","onChange","className","isValid","disabled","errMessage","showPassword"]),Object(r.useState)(d)),f=u()(p,2),v=f[0],_=f[1],b="".concat("/",v?"assets/imgs/password_visible.png":"assets/imgs/password_invisible.png");return n.a.createElement("div",{className:"".concat(q," ").concat(c)},n.a.createElement("div",{className:"".concat(I)},n.a.createElement("input",{className:"".concat(i?Z:W),type:v?"text":"password",name:t,placeholder:s,value:a,onChange:l,disabled:o}),n.a.createElement("img",{src:b,className:"".concat(L),onClick:function(){return _(!v)}})),n.a.createElement("p",{className:"".concat(F," ").concat(i&&H)},""==m?"Текст для высоты":m))}U.defaultProps={value:"",name:"",placeholder:"",onChange:function(){},className:null,isValid:!0,disabled:!1,errMessage:"Текст для высоты"},U.propTypes={value:b.a.oneOfType([b.a.string,b.a.number]),type:b.a.string,name:b.a.string,placeholder:b.a.string,onChange:b.a.func,className:b.a.string,isValid:b.a.bool,disabled:b.a.bool,errMessage:b.a.oneOfType([b.a.string,b.a.number])};var B="index-module__btn_a75a9";function X(e){var a=e.className,t=e.onClick,r=e.type,s=e.value,l=e.disabled;g()(e,["className","onClick","type","value","disabled"]);return n.a.createElement("input",{className:"".concat(B,"\n        ").concat(a&&a),type:r,value:s,onClick:function(e){e.stopPropagation(),t()},disabled:l})}X.defaultProps={type:"button",className:void 0,disabled:!1,onClick:function(){}},X.propTypes={className:b.a.string,onClick:b.a.func,type:b.a.string,disabled:b.a.bool,value:b.a.string.isRequired};var G="USER/LOGIN";function Q(e){return{type:"ERRORS/ERROR_SHOW",payload:{isError:!0,errMessage:e}}}function J(e){return{type:G,payload:{id:e,isAuthorized:!0}}}var K="styles-module__form_aeaab",Y="styles-module__question_95400",ee="styles-module__registration_65484";function ae(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);a&&(r=r.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,r)}return t}function te(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?ae(Object(t),!0).forEach((function(a){C()(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ae(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}function re(){var e=d()(["\n\tmutation($firstName: String!, $secondName: String!, $email: String!, $password: String!){\n\t\tsignup(firstName:$firstName, secondName: $secondName, email: $email, password:$password)\n\t}\n"]);return re=function(){return e},e}var ne=Object(i.gql)(re());var se="styles-module__form_18398",le="styles-module__registration_d2354";function ce(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);a&&(r=r.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,r)}return t}function ie(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?ce(Object(t),!0).forEach((function(a){C()(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ce(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}function oe(){var e=d()(["\n  mutation ($email: String!, $password: String!) {\n    login(email: $email, password: $password) {\n\t\t\ttoken,\n\t\t\tuser {\n\t\t\t\tid\n\t\t\t}\n    }\n  }\n"]);return oe=function(){return e},e}var ue=Object(i.gql)(oe());var me="styles-module__layout_dc008";function de(e){var a=e.className,t=g()(e,["className"]);return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"".concat(me," ").concat(a)},t.children))}de.defaultProps={className:void 0},de.propTypes={className:b.a.string};var pe={header:"styles-module__header_c18be",header__title:"styles-module__header__title_e3556",userData:"styles-module__userData_b18b8",userData__item:"styles-module__userData__item_32c42",userData__label:"styles-module__userData__label_0b699",userData__inp:"styles-module__userData__inp_80d41"};function fe(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);a&&(r=r.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,r)}return t}function ve(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?fe(Object(t),!0).forEach((function(a){C()(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):fe(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}function ge(){var e=d()(["\n\tmutation($id: Int!, $firstName: String!, $secondName: String!, $email: String!, $password: String!){\n\t\teditUser(id: $id, firstName:$firstName, secondName: $secondName, email: $email, password:$password){\n      id\n    }\n\t}\n"]);return ge=function(){return e},e}function _e(){var e=d()(["\n  query($id: Int!){\n    userById(id: $id){\n      id,\n      firstName,\n      secondName,\n      email\n    }\n  }\n"]);return _e=function(){return e},e}var be=Object(i.gql)(_e()),ye=Object(i.gql)(ge());var he=function(e){var a=Object(c.b)(),t=Object(c.c)((function(e){return e.user.id})),s=Object(i.useQuery)(be,{variables:{id:t}}),l=s.loading,o=s.error,m=s.data,d=Object(i.useMutation)(ye),p=u()(d,2),f=p[0],v=p[1],g=v.loading;v.error,v.data,o&&(a(Q("Не удалось получить данные с сервера :(\r\n Попробуйте позже")),e.history.push("/"));var _=m?m.userById:{},b=_.firstName,y=void 0===b?"":b,h=_.secondName,O=void 0===h?"":h,E=_.email,N=void 0===E?"":E,w=Object(r.useState)(!1),P=u()(w,2),M=P[0],S=P[1],D=Object(r.useState)({firstName:{value:y,errMessage:'Поле "имя" должно содержать минимум два символа и не должно содержать цифр.',isValid:!0,validate:function(e,a){return/^[a-zA-Zа-яА-Я']{2,}$/.test(e.trim())}},secondName:{value:O,errMessage:'Поле "фамилия" должно содержать минимум два символа и не должно содержать цифр.',isValid:!0,validate:function(e,a){return/^[a-zA-Zа-яА-Я']{1,}$/.test(e.trim())}},email:{value:N,errMessage:"Не корректный email",isValid:!0,validate:function(e,a){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e.trim())}},password:{value:"",errMessage:"Пароль должен состоять из цифр, букв и хотя бы одного спец. символа из [!@#$%&_=.`~,[]:;|/]. Так же всего должно быть не меньше 8 символов.",isValid:!0,validate:function(e,a){return[/^.*[0-9]+.*$/,/^.*[!@#$%&_=\.`~,\[\]:;\{\}\|\\\/]+.*$/,/^.*[a-zA-Z]+.*$/,/^[\d\w\!\@\#\$\%\&\_\=\.\`\~\,\[\:\;\{\}\|\\\/]{8,}/].every((function(a){return a.test(e)}))}},checkPassword:{value:"",errMessage:"Пароли не совпадают",isValid:!0,validate:function(e,a){return e===a.password.value&&""!==e}}}),$=u()(D,2),x=$[0],R=$[1],A=function(e,a){x[a].validate(e,x)?R((function(t){return ve(ve({},t),{},C()({},a,ve(ve({},t[a]),{},{value:e,isValid:!0})))})):R((function(t){return ve(ve({},t),{},C()({},a,ve(ve({},t[a]),{},{value:e,isValid:!1})))}))};l||M||function(){var e={firstName:y,secondName:O,email:N};if(m){for(var a in e)A(e[a],a);S(!0)}}();var T=function(){var e=V()(k.a.mark((function e(){var r,n,s;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=x.firstName.value,n=x.secondName.value,s=x.email.value,x.password.value,e.next=7,f({variables:{id:t,email:s,firstName:r,secondName:n}});case 7:e.sent,e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),a(Q("Что то пошло не так :(\r\n Попробуйте позже"));case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();return n.a.createElement(n.a.Fragment,null,l?n.a.createElement(j,null):n.a.createElement(de,{className:pe.layout},n.a.createElement("div",{className:pe.header},n.a.createElement("p",{className:pe.header__title},"".concat(y," ").concat(O,". Редактирование")),n.a.createElement(X,{disabled:g,value:g?"Сохранение...":"Сохранить",onClick:function(){var e=Object.keys(x);e.every((function(e){return""!==x[e].value&&x[e].isValid}))?T():e.forEach((function(e){return A(x[e].value,e)}))}})),n.a.createElement("ul",{className:pe.userData},n.a.createElement("li",{className:pe.userData__item},n.a.createElement("label",{className:pe.userData__label},"Имя"),n.a.createElement(z,{className:pe.userData__inp,disabled:g,value:x.firstName.value,type:"text",name:"firstName",placeholder:"Имя",errMessage:x.firstName.errMessage,isValid:x.firstName.isValid,onChange:function(e){A(e.target.value,"firstName")}})),n.a.createElement("li",{className:pe.userData__item},n.a.createElement("label",{className:pe.userData__label},"Фамилия"),n.a.createElement(z,{className:pe.userData__inp,disabled:g,value:x.secondName.value,type:"text",name:"secondName",placeholder:"Фамилия",errMessage:x.secondName.errMessage,isValid:x.secondName.isValid,onChange:function(e){A(e.target.value,"secondName")}})),n.a.createElement("li",{className:pe.userData__item},n.a.createElement("label",{className:pe.userData__label},"Электронная почта"),n.a.createElement(z,{className:pe.userData__inp,disabled:g,value:x.email.value,type:"email",name:"email",placeholder:"Электронная почта",errMessage:x.email.errMessage,isValid:x.email.isValid,onChange:function(e){A(e.target.value,"email")}})),n.a.createElement("li",{className:pe.userData__item},n.a.createElement("label",{className:pe.userData__label},"Новый(или старый) пароль"),n.a.createElement(U,{className:pe.userData__inp,disabled:g,value:x.password.value,name:"password",placeholder:"Не задано",errMessage:x.password.errMessage,isValid:x.password.isValid,onChange:function(e){A(e.target.value,"password")}})),n.a.createElement("li",{className:pe.userData__item},n.a.createElement("label",{className:pe.userData__label},"Повторите пароль"),n.a.createElement(U,{className:pe.userData__inp,disabled:g,value:x.checkPassword.value,name:"checkPassword",placeholder:"Не задано",errMessage:x.checkPassword.errMessage,isValid:x.checkPassword.isValid,onChange:function(e){A(e.target.value,"checkPassword")}})))))};function Oe(){var e=d()(["\n  query{\n    processList{\n      id,\n      name,\n      numberOfExecutions,\n      averageLeadTime,\n      averageActiveTime,\n      employeesInvolvedProcess,\n      numberOfScenarios,\n      start,\n      end,\n      loading\n    }\n  }\n"]);return Oe=function(){return e},e}var Ee=Object(i.gql)(Oe());var Ne=function(e){console.log("ProcessesPage");var a=Object(i.useQuery)(Ee),t=(a.loading,a.error,a.data),r=void 0===t?null:t;return console.log(r),n.a.createElement(de,null,"Processes PAGE")},we="styles-module__container_45c44";function je(e){return n.a.createElement("div",{className:we},n.a.createElement("p",null,"404 not found"),e.children)}var Pe=[{name:"home",url:"/",container:Ne,exact:!0},{name:"login",url:"/login",container:function(e){console.log("LogInPage");var a=Object(i.useMutation)(ue),t=u()(a,2),s=t[0],l=t[1],o=(l.data,l.error,l.loading),m=Object(c.b)(),d=Object(c.c)((function(e){return e.user.isAuthorized})),v=Object(r.useState)({email:{value:"",errMessage:"Не корректный email",isValid:!0,validate:function(e){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e.trim())}},password:{value:"",validate:function(e){return!0}}}),g=u()(v,2),_=g[0],b=g[1],y=function(e,a){_[a].validate(e.target.value)?b(ie(ie({},_),{},C()({},a,ie(ie({},_[a]),{},{value:e.target.value,isValid:!0})))):b(ie(ie({},_),{},C()({},a,ie(ie({},_[a]),{},{value:e.target.value,isValid:!1}))))},h=n.a.createElement("form",{className:se,onSubmit:function(e){e.preventDefault()}},n.a.createElement(z,{disabled:o,value:_.email.value,type:"email",name:"email",placeholder:"Электронная почта",errMessage:_.email.errMessage,isValid:_.email.isValid,onChange:function(e){y(e,"email")}}),n.a.createElement(U,{disabled:o,value:_.password.value,name:"password",placeholder:"Пароль",onChange:function(e){y(e,"password")}}),n.a.createElement(X,{type:"submit",disabled:o,value:o?"Вход в систему, ждите...":"Войти в систему",onClick:function(){var a=V()(k.a.mark((function a(t){var r,n,l,c,i;return k.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,r=_.email.value,n=_.password.value,a.next=5,s({variables:{email:r,password:n}});case 5:l=a.sent,c=l.data.login.token,i=l.data.login.user.id,window.localStorage.setItem("token",c),m(J(i)),e.history.push("/"),a.next=16;break;case 13:a.prev=13,a.t0=a.catch(0),m(Q("Пользователь с такими почтой и паролем\n не найден!"));case 16:case"end":return a.stop()}}),a,null,[[0,13]])})));return function(e){return a.apply(this,arguments)}}()}));return n.a.createElement(n.a.Fragment,null,d?n.a.createElement(p.a,{to:"/"}):n.a.createElement(A,{form:h},o?n.a.createElement("p",{className:"".concat(le)}," Зарегистрироваться "):n.a.createElement(f.b,{className:"".concat(le),to:Me.registration},"Зарегистрироваться")))},exact:!0},{name:"registration",url:"/registration",container:function(e){console.log("RegistrationPage");var a=Object(i.useMutation)(ne),t=u()(a,2),s=t[0],l=t[1],o=(l.data,l.loading),m=l.error,d=Object(c.b)(),v=Object(c.c)((function(e){return e.user.isAuthorized})),g=Object(r.useState)({firstName:{value:"",errMessage:'Поле "имя" должно содержать минимум два символа и не должно содержать цифр.',isValid:!0,validate:function(e,a){return/^[a-zA-Zа-яА-Я']{2,}$/.test(e.trim())}},secondName:{value:"",errMessage:'Поле "фамилия" должно содержать минимум два символа и не должно содержать цифр.',isValid:!0,validate:function(e,a){return/^[a-zA-Zа-яА-Я']{1,}$/.test(e.trim())}},email:{value:"",errMessage:"Не корректный email",isValid:!0,validate:function(e,a){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e.trim())}},password:{value:"",errMessage:"Пароль должен состоять из цифр, букв и хотя бы одного спец. символа из [!@#$%&_=.`~,[]:;|/]. Так же всего должно быть не меньше 8 символов.",isValid:!0,validate:function(e,a){return[/^.*[0-9]+.*$/,/^.*[!@#$%&_=\.`~,\[\]:;\{\}\|\\\/]+.*$/,/^.*[a-zA-Z]+.*$/,/^[\d\w\!\@\#\$\%\&\_\=\.\`\~\,\[\:\;\{\}\|\\\/]{8,}/].every((function(a){return a.test(e)}))}},checkPassword:{value:"",errMessage:"Пароли не совпадают",isValid:!0,validate:function(e,a){return e===a.password.value&&""!==e}}}),_=u()(g,2),b=_[0],y=_[1],h=function(e,a){b[a].validate(e,b)?y((function(t){return te(te({},t),{},C()({},a,te(te({},t[a]),{},{value:e,isValid:!0})))})):y((function(t){return te(te({},t),{},C()({},a,te(te({},t[a]),{},{value:e,isValid:!1})))}))},O=function(){var a=V()(k.a.mark((function a(){var t,r,n,l,c,i;return k.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t=b.firstName.value,r=b.secondName.value,n=b.email.value,l=b.password.value,a.next=7,s({variables:{firstName:t,secondName:r,email:n,password:l}});case 7:c=a.sent,i=c.data.signup,window.localStorage.setItem("token",i),e.history.push("/"),a.next=17;break;case 13:a.prev=13,a.t0=a.catch(0),console.log(m),d(Q("Что то пошло не так :(\r\n Попробуйте позже"));case 17:case"end":return a.stop()}}),a,null,[[0,13]])})));return function(){return a.apply(this,arguments)}}(),E=function(){var e=Object.keys(b);e.every((function(e){return""!==b[e].value&&b[e].isValid}))?O():e.forEach((function(e){return h(b[e].value,e)}))},N=n.a.createElement("form",{className:K,onSubmit:function(e){e.preventDefault(),E()}},n.a.createElement(z,{disabled:o,value:b.firstName.value,type:"text",name:"firstName",placeholder:"Имя",errMessage:b.firstName.errMessage,isValid:b.firstName.isValid,onChange:function(e){h(e.target.value,"firstName")}}),n.a.createElement(z,{disabled:o,value:b.secondName.value,type:"text",name:"secondName",placeholder:"Фамилия",errMessage:b.secondName.errMessage,isValid:b.secondName.isValid,onChange:function(e){h(e.target.value,"secondName")}}),n.a.createElement(z,{disabled:o,value:b.email.value,type:"email",name:"email",placeholder:"Электронная почта",errMessage:b.email.errMessage,isValid:b.email.isValid,onChange:function(e){h(e.target.value,"email")}}),n.a.createElement(U,{disabled:o,value:b.password.value,name:"password",placeholder:"Введите пароль",errMessage:b.password.errMessage,isValid:b.password.isValid,onChange:function(e){h(e.target.value,"password")}}),n.a.createElement(U,{disabled:o,value:b.checkPassword.value,name:"checkPassword",placeholder:"Повторите пароль",errMessage:b.checkPassword.errMessage,isValid:b.checkPassword.isValid,onChange:function(e){h(e.target.value,"checkPassword")}}),n.a.createElement(X,{type:"submit",disabled:o,value:o?"Идет отправка на сервер...":"Регистрация",onClick:function(){E()}}));return n.a.createElement(n.a.Fragment,null,v?n.a.createElement(p.a,{to:"/"}):n.a.createElement(A,{form:N},o?n.a.createElement("p",{className:"".concat(Y)}," Уже зарегистрированы? Вход"):n.a.createElement("p",null,"Уже зарегистрированы? ",n.a.createElement(f.b,{className:"".concat(ee),to:Me.login},"Вход"))))},exact:!0},{name:"lk",url:"/lk",container:he,exact:!0},{name:"processes",url:"/processes",container:Ne,exact:!0},{url:"**",container:function(e){return n.a.createElement(n.a.Fragment,null,n.a.createElement(je,null,n.a.createElement("p",{onClick:e.history.goBack},"Вернуться на главную!")))}}],Me={};Pe.forEach((function(e){e.hasOwnProperty("name")&&(Me[e.name]=e.url)}));function ke(){var e=d()(["\n\tquery{\n\t\tcurrentUser{\n      id,\n      email,\n      firstName,\n      secondName\n\t\t}\n\t}\n"]);return ke=function(){return e},e}var Se=Object(i.gql)(ke());var Ve=function(e){var a=Object(r.useState)(!1),t=u()(a,2),s=t[0],l=t[1],o=Object(i.useQuery)(Se),m=o.loading,d=(o.error,o.data),v=void 0===d?null:d,g=Object(c.b)(),_=Object(c.c)((function(e){return e.errStore})),b=Object(c.c)((function(e){return e.user.id})),y=!!v;v&&v.currentUser.id!==b&&g(J(v.currentUser.id)),console.log("app data",v);var h=function(){l(!1)},O=Pe.map((function(e){return n.a.createElement(p.b,{path:e.url,component:e.container,exact:e.exact,key:e.url})}));return n.a.createElement(f.a,null,n.a.createElement(n.a.Fragment,null,m?n.a.createElement(j,null):n.a.createElement(n.a.Fragment,null,!y&&n.a.createElement(p.a,{to:{pathname:"/login"}}),n.a.createElement("header",{className:P.header},n.a.createElement("div",{className:"".concat(P.btnMenu," ").concat(s&&P.btnMenu_invisible),onClick:function(){l(!0)}},n.a.createElement("img",{src:"".concat("/","assets/imgs/menu.png")}),n.a.createElement("p",null,"Меню"))),n.a.createElement("main",{className:P.content},n.a.createElement(p.d,null,O))),s&&n.a.createElement("div",{className:P.menuWrapper},n.a.createElement("menu",{className:P.menuLeftPart},n.a.createElement("div",{className:"".concat(P.btnMenu," ").concat(P.btnMenu_opened),onClick:h},n.a.createElement("img",{src:"".concat("/","assets/imgs/menu.png")}),n.a.createElement("p",null,"proceset")),n.a.createElement("ul",{className:P.menu},n.a.createElement("li",{className:P.menu__item},n.a.createElement(f.c,{className:P.menu__link,to:Me.lk,activeClassName:P.menu__link_active,onClick:h},n.a.createElement("img",{src:"".concat("/","assets/imgs/user_icon.png")}),n.a.createElement("p",null,"Профиль"))),n.a.createElement("li",{className:P.menu__item},n.a.createElement(f.c,{className:P.menu__link,to:Me.processes,activeClassName:P.menu__link_active,onClick:h},n.a.createElement("img",{src:"".concat("/","assets/imgs/process_icon.png")}),n.a.createElement("p",null,"Список процессов"))))),n.a.createElement("div",{className:P.menuRightPart,onClick:h})),n.a.createElement(N,{text:_.errMessage,onClose:function(){g({type:"ERRORS/ERROR_SHOW",payload:{isError:!1,errMessage:""}})},isError:_.isError})))},De=t(31);function Ce(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);a&&(r=r.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,r)}return t}function $e(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?Ce(Object(t),!0).forEach((function(a){C()(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ce(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}var xe={isError:!1,errMessage:"Упс, что то пошло нет так :("};function Re(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);a&&(r=r.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,r)}return t}function Ae(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?Re(Object(t),!0).forEach((function(a){C()(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Re(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}var Te={id:null,isAuthorized:!1};var ze=Object(De.c)({errStore:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"ERRORS/ERROR_SHOW":case"ERRORS/ERROR_SHOW":return $e($e({},e),a.payload);default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Te,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case G:case"USER/LOGIN":return Ae(Ae({},e),a.payload);default:return e}}}),Ie=Object(De.e)(ze,Object(De.d)(Object(De.a)(),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())),qe=new i.HttpLink({uri:"http://localhost:4000/api"}),Le=new i.ApolloLink((function(e,a){return e.setContext({headers:{authorization:localStorage.getItem("token")?"Bearer ".concat(localStorage.getItem("token")):null}}),a(e)})),Ze=new i.ApolloClient({cache:new i.InMemoryCache,link:Object(i.concat)(Le,qe)});l.a.render(n.a.createElement(c.a,{store:Ie},n.a.createElement(i.ApolloProvider,{client:Ze},n.a.createElement(Ve,null))),document.querySelector("#app"))}});